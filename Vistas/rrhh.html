<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Recursos Humanos</title>
    <link rel="stylesheet" href="../Vistas/menu.css">
</head>

<style>
    #mensaje-bienvenida {
        position: absolute;
        top: 10px;
        left: 10px;
        background-color: #ffeb3b;
        padding: 10px;
        border-radius: 5px;
        z-index: 1000;
        opacity: 1;
        transition: opacity 0.5s ease;
    }
</style>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Recuperar la información del usuario de localStorage
        const usuarioActual = JSON.parse(localStorage.getItem('usuarioActual'));

        // Si hay un usuario almacenado, mostrar el mensaje de bienvenida
        if (usuarioActual) {
            const mensajeBienvenida = document.getElementById('mensaje-bienvenida');
            const nombre = usuarioActual.usuario_nombre;
            const rol = usuarioActual.rol;

            // Determinar el nombre del rol
            let rolNombre;
            switch (usuarioActual.id_rol) {
                case 1:
                    rolNombre = "Administrador";
                    break;
                case 2:
                    rolNombre = "RRHH";
                    break;
                case 3:
                    rolNombre = "Proveedor";
                    break;
                case 4:
                    rolNombre = "Empleado de i2T";
                    break;
                default:
                    rolNombre = "Usuario no registrado";
            }

            // Mostrar el mensaje de bienvenida
            mensajeBienvenida.textContent = `¡Bienvenid@ ${nombre} - Iniciaste sesión como ${rolNombre}!`;

            setTimeout(() => {
                mensajeBienvenida.style.opacity = '0';
                setTimeout(() => {
                    mensajeBienvenida.style.display = 'none'; // Finalmente, oculta el mensaje
                }, 500); // La segunda demora aquí es para esperar a que termine la animación de desvanecimiento
            }, 3500); // Espera 5 segundos antes de iniciar la ocultación
        }
    });
</script>

<body>
    <nav class="navbar">
        <ul>
            <li><a href="../Vistas/login.html">Login</a></li>
            <li><a href="../Vistas/menu.html">Menú</a></li>
            <li><a href="../Vistas/pedido.html">Pedidos</a></li>
            <li><a href="../Vistas/login.html">Cerrar Sesión</a></li>
        </ul>
    </nav>
    <div id="mensaje-bienvenida" class="mensaje-bienvenida"></div>
    <div class="contenedor-menu">
        <h2>Menú Disponible</h2>
        <table id="tabla-menu">
            <thead>
                <tr>
                    <th>Plato</th>
                    <th>Semana 1</th>
                    <th>Semana 2</th>
                    <th>Semana 3</th>
                    <th>Semana 4</th>
                </tr>
            </thead>
            <tbody id="tabla-menu-body">
            </tbody>
        </table>
    </div>
    <script src="../Controlador/menu.js"></script>
</body>

</html>